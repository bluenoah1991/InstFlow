{"version":3,"sources":["../src/RecorderMiddleware.js"],"names":["RecorderMiddleware","event","next","channel_id","address","channelId","user_id","user","id","name","extra","undefined","JSON","stringify","saveUser"],"mappings":"AAAA;;;;;;;;AAEA;;AAEA;;;;;;;;IAEqBA,kB;;;;;;;gCACTC,K,EAAOC,I,EAAK;AAChB,gBAAIC,aAAaF,MAAMG,OAAN,CAAcC,SAA/B;AACA,gBAAIC,UAAUL,MAAMG,OAAN,CAAcG,IAAd,CAAmBC,EAAjC;AACA,gBAAIC,OAAOR,MAAMG,OAAN,CAAcG,IAAd,CAAmBE,IAA9B;AACA,gBAAIC,QAAQ,IAAZ;AACA,gBAAGT,MAAMG,OAAN,IAAiBO,SAApB,EAA8B;AAC1BD,wBAAQE,KAAKC,SAAL,CAAeZ,MAAMG,OAArB,CAAR;AACH;AACD,+BAASU,QAAT,CAAkBX,UAAlB,EAA8BG,OAA9B,EAAuCG,IAAvC,EAA6CC,KAA7C;AACAR;AACH;;;;;;kBAXgBF,kB","file":"RecorderMiddleware.js","sourcesContent":["\"use strict\";\r\n\r\nimport \"babel-polyfill\";\r\n\r\nimport schedule from './Schedule';\r\n\r\nexport default class RecorderMiddleware {\r\n    receive(event, next){\r\n        let channel_id = event.address.channelId;\r\n        let user_id = event.address.user.id;\r\n        let name = event.address.user.name;\r\n        let extra = null;\r\n        if(event.address != undefined){\r\n            extra = JSON.stringify(event.address);\r\n        }\r\n        schedule.saveUser(channel_id, user_id, name, extra);\r\n        next();\r\n    }\r\n}"]}